(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-editUser"],{"0254":function(e,t,i){"use strict";var n=i("8b27"),s=i.n(n);s.a},"146a":function(e,t,i){"use strict";i.r(t);var n=i("b24c"),s=i("8a4d");for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);i("0254");var r=i("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"44b83e22",null);t["default"]=o.exports},"895e":function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("7f7f"),i("ac6a");var s=n(i("32f8")),a={components:{wPicker:s.default},data:function(){return{pickerList:[],status:!1,picker:"",form:{name:"",phone:"",remark:"",source:{value:"请选择",id:"",list:[]},grade:{value:"请选择",id:"",list:[]},next:{value:"请选择",list:[]},store:{value:"请选择",list:[],id:""},birthday:"请选择",sex:{items:[{value:1,name:"男"},{value:2,name:"女",checked:"true"},{value:3,name:"未知"}],current:3},weChat:"",QQ:"",mailbox:"",address:"",cus_level:{id:"",value:""},synchronous:{checked:!1,date:"请选择",time:"请选择",room:{value:"请选择",list:[]},project:{value:"请添加",list:[]},technician:{value:"请选择",list:[]},remark:""}}}},onReady:function(){},onShow:function(){},onLoad:function(e){this.cus_id=e.cus_id,this.customerConfigChannellist(),this.customerGetcusinfo(e.cus_id);var t=new Array;uni.getStorageSync("store").forEach(function(e,i){t[i]={label:e.dept_name,value:e.dept_id}}),this.form.store.list=t,this.form.grade.list=uni.getStorageSync("gradelist")},methods:{customerGetcusinfo:function(e){var t=this;uni.request({url:uni.getStorageSync("interface")+"customer/getcusinfo",method:"GET",data:{cus_id:e},header:{token:uni.getStorageSync("token")},success:function(e){var i=e.data.data.info;t.form.name=i.cus_name,t.form.phone=i.cus_mobile,t.form.source.value=i.channel_name,t.form.source.id=i.channel_id,t.form.store.value=i.dept_name,t.form.store.id=i.dept_id,t.form.sex.current=i.cus_sex,t.form.remarks=i.remarks,t.form.grade.value=i.cus_grade_name,t.form.grade.id=i.cus_grade,t.form.weChat=i.cus_wx,t.form.QQ=i.cus_qq,t.form.mailbox=i.cus_email,t.form.address=i.cus_addr,t.form.cus_level.id=i.cus_level}})},customerEdit:function(){uni.request({url:uni.getStorageSync("interface")+"customer/edit",method:"POST",data:{cus_id:this.cus_id,add_remarks:this.form.remarks,cus_addr:this.form.address,cus_birthday:this.form.birthday,cus_email:this.form.mailbox,cus_mobile:this.form.phone,cus_name:this.form.name,cus_qq:this.form.QQ,cus_sex:this.form.sex.current,cus_wx:this.form.weChat,cus_level:this.form.cus_level.id,cus_grade:this.form.grade.id,dept_id:this.form.store.id,channel_id:this.form.source.label},header:{token:uni.getStorageSync("token")},success:function(e){console.log(e)}})},sexRadioChange:function(e){for(var t=0;t<this.form.sex.items.length;t++)if(this.form.sex.items[t].value===e.target.value){this.form.sex.current=t;break}},selectClick:function(e){this.picker=e,"birthday"===e?this.$refs.range.show():"date"===e?this.$refs.range.show():"time"===e?this.$refs.rangeTime.show():"channel"===e?(this.pickerList=this.form.source.list,this.$refs.channelSelect.show()):"next"===e?this.$refs.range.show():"store"===e?(this.pickerList=this.form.store.list,this.$refs.channelSelect.show()):"grade"===e&&(this.pickerList=this.form.grade.list,this.$refs.channelSelect.show())},birthdayConfirm:function(e){"birthday"===this.picker?this.form.birthday=e.result:"date"===this.picker?this.form.synchronous.date=e.result:"next"===this.picker&&(this.form.next.value=e.result)},channelConfirm:function(e){"channel"===this.picker?(this.form.source.value=e.result,this.form.source.id=e.checkArr.value):"store"===this.picker?(this.form.store.value=e.result,this.form.store.id=e.checkArr.value):"grade"===this.picker&&(this.form.grade.value=e.result,this.form.grade.id=e.checkArr.value)},onConfirmTime:function(e){this.form.synchronous.time=e.checkArr[3]+":"+e.checkArr[4]},statusClick:function(){this.status=!this.status},onNavigationBarButtonTap:function(e){this.customerEdit()},customerConfigChannellist:function(){var e=this;uni.request({url:uni.getStorageSync("interface")+"customer/config/channellist",method:"GET",data:{},header:{token:uni.getStorageSync("token")},success:function(t){var i=new Array;t.data.data.forEach(function(e,t){i[t]={label:e.channel_name,value:e.channel_id}}),e.form.source.list=i}})}}};t.default=a},"8a4d":function(e,t,i){"use strict";i.r(t);var n=i("895e"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=s.a},"8b27":function(e,t,i){var n=i("b9d8");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("4f06").default;s("7ecd34a3",n,!0,{sourceMap:!1,shadowMode:!1})},b24c:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"form"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[e._v("姓名")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[e._v("手机")]),i("v-uni-input",{attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号码"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),i("v-uni-view",{staticClass:"input",on:{click:function(t){t=e.$handleEvent(t),e.selectClick("channel")}}},[i("v-uni-text",{staticClass:"important"},[e._v("来源")]),i("v-uni-view",{staticClass:"select"},[e._v(e._s(e.form.source.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input",on:{click:function(t){t=e.$handleEvent(t),e.selectClick("store")}}},[i("v-uni-text",{staticClass:"important"},[e._v("门店")]),i("v-uni-view",{staticClass:"select"},[e._v(e._s(e.form.store.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("性别")]),i("v-uni-view",{staticClass:"select sex"},[i("v-uni-radio-group",{on:{change:function(t){t=e.$handleEvent(t),e.sexRadioChange(t)}}},e._l(e.form.sex.items,function(t,n){return i("v-uni-label",{key:t.value,staticClass:"uni-list-cell uni-list-cell-pd"},[i("v-uni-view",[i("v-uni-radio",{attrs:{value:t.value,checked:t.value===e.form.sex.current}})],1),i("v-uni-view",[e._v(e._s(t.name))])],1)}),1)],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("备注")]),i("v-uni-input",{attrs:{type:"text",placeholder:"客户备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),i("v-uni-view",{staticClass:"more"},[i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!e.status,expression:"!status"}],on:{click:function(t){t=e.$handleEvent(t),e.statusClick()}}},[e._v("完善更多")]),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],on:{click:function(t){t=e.$handleEvent(t),e.statusClick()}}},[e._v("收起")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("生日")]),i("v-uni-view",{staticClass:"select",on:{click:function(t){t=e.$handleEvent(t),e.selectClick("birthday")}}},[e._v(e._s(e.form.birthday)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("类型")]),i("v-uni-view",{staticClass:"select"},[e._v(e._s(e.form.cus_level.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input",on:{click:function(t){t=e.$handleEvent(t),e.selectClick("grade")}}},[i("v-uni-text",[e._v("会员等级")]),i("v-uni-view",{staticClass:"select"},[e._v(e._s(e.form.grade.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("微信号")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入微信号"},model:{value:e.form.weChat,callback:function(t){e.$set(e.form,"weChat",t)},expression:"form.weChat"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("QQ")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入QQ号"},model:{value:e.form.QQ,callback:function(t){e.$set(e.form,"QQ",t)},expression:"form.QQ"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("邮箱")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入邮箱号"},model:{value:e.form.mailbox,callback:function(t){e.$set(e.form,"mailbox",t)},expression:"form.mailbox"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[e._v("详情地址")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入详情地址"},model:{value:e.form.mailbox,callback:function(t){e.$set(e.form,"mailbox",t)},expression:"form.mailbox"}})],1)],1),i("w-picker",{ref:"range",attrs:{mode:"date",startYear:"1880",endYear:"2030",defaultVal:[0,0,0],current:!0,themeColor:"#f00"},on:{confirm:function(t){t=e.$handleEvent(t),e.birthdayConfirm(t)}}}),i("w-picker",{ref:"rangeTime",attrs:{mode:"dateTime",defaultVal:[0,0,0],current:!0,themeColor:"#f00"},on:{confirm:function(t){t=e.$handleEvent(t),e.onConfirmTime(t)}}}),i("w-picker",{ref:"channelSelect",attrs:{mode:"selector",selectList:e.pickerList,themeColor:"#f00"},on:{confirm:function(t){t=e.$handleEvent(t),e.channelConfirm(t)}}})],1)},s=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s})},b9d8:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'uni-page-body[data-v-44b83e22]{background:#f6f7f9}.page[data-v-44b83e22]{margin-top:%?20?%}.form[data-v-44b83e22]{background:#fff}.form .input[data-v-44b83e22]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-left:%?40?%;margin-right:%?40?%;height:%?120?%;border-bottom:solid %?1?% #e4e4e4}.form .input[data-v-44b83e22]:last-child{border-bottom:none}.form .input uni-text[data-v-44b83e22]{font-size:%?30?%;color:#333}.form .input uni-text.important[data-v-44b83e22]:after{content:"*";color:#f06}.form .input uni-input[data-v-44b83e22]{text-align:right;font-size:%?26?%}.form .input .select[data-v-44b83e22]{font-size:%?26?%;color:#949494;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.form .input .select uni-image[data-v-44b83e22]{width:%?30?%;height:100%}.form .input .select.sex uni-radio-group[data-v-44b83e22]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.form .input .select.sex uni-radio-group .uni-list-cell[data-v-44b83e22]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?26?%;color:#333;margin-left:%?30?%}.form .input .select.sex uni-radio-group .uni-list-cell[data-v-44b83e22]:first-child{margin-left:0}.more[data-v-44b83e22]{height:%?90?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.more uni-text[data-v-44b83e22]{font-size:%?24?%;color:#f69;position:relative}.more uni-text[data-v-44b83e22]:after{content:"";position:absolute;width:%?200?%;height:%?2?%;background:#c9c9c9;top:50%;margin-top:%?-1?%;left:%?-212?%}.more uni-text[data-v-44b83e22]:before{content:"";position:absolute;width:%?200?%;height:%?2?%;background:#c9c9c9;top:50%;margin-top:%?-1?%;right:%?-212?%}body.?%PAGE?%[data-v-44b83e22]{background:#f6f7f9}',""])}}]);