(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-addUser"],{3130:function(t,e,i){var n=i("870a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("25a06e08",n,!0,{sourceMap:!1,shadowMode:!1})},5500:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"form"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[t._v("姓名")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[t._v("手机")]),i("v-uni-input",{attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号码"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[t._v("来源")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("channel")}}},[t._v(t._s(t.form.source.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[t._v("门店")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("shop")}}},[t._v(t._s(t.form.store.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("性别")]),i("v-uni-view",{staticClass:"select sex"},[i("v-uni-radio-group",{on:{change:function(e){e=t.$handleEvent(e),t.sexRadioChange(e)}}},t._l(t.form.sex.items,function(e,n){return i("v-uni-label",{key:e.value,staticClass:"uni-list-cell uni-list-cell-pd"},[i("v-uni-view",[i("v-uni-radio",{attrs:{value:e.value,checked:n===t.form.sex.current}})],1),i("v-uni-view",[t._v(t._s(e.name))])],1)}),1)],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("备注")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),i("v-uni-view",{staticClass:"more"},[i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!t.status,expression:"!status"}],on:{click:function(e){e=t.$handleEvent(e),t.statusClick()}}},[t._v("完善更多")]),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],on:{click:function(e){e=t.$handleEvent(e),t.statusClick()}}},[t._v("收起")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"form"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("生日")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("birthday")}}},[t._v(t._s(t.form.birthday)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("类型")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("type")}}},[t._v(t._s(t.form.type.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("会员等级")]),i("v-uni-view",{staticClass:"select"},[t._v(t._s(t.form.grade.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("微信号")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入微信号"},model:{value:t.form.weChat,callback:function(e){t.$set(t.form,"weChat",e)},expression:"form.weChat"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("QQ")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入QQ号"},model:{value:t.form.QQ,callback:function(e){t.$set(t.form,"QQ",e)},expression:"form.QQ"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("邮箱")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入邮箱号"},model:{value:t.form.mailbox,callback:function(e){t.$set(t.form,"mailbox",e)},expression:"form.mailbox"}})],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("详细地址")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入详细地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),i("v-uni-view",{staticClass:"input",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("next")}}},[i("v-uni-text",[t._v("下次跟进")]),i("v-uni-view",{staticClass:"select"},[t._v(t._s(t.form.next.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1)],1),i("v-uni-view",{staticClass:"form"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("同步预约")]),i("async-switch",{attrs:{color:"#4dd865",checked:t.form.synchronous.checked},on:{change:function(e){e=t.$handleEvent(e),t.synchronousChange(e)}}})],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.form.synchronous.checked,expression:"form.synchronous.checked"}],staticClass:"form"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[t._v("日期")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("date")}}},[t._v(t._s(t.form.synchronous.date)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",{staticClass:"important"},[t._v("时间")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("time")}}},[t._v(t._s(t.form.synchronous.time)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("房间")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("room")}}},[t._v(t._s(t.form.synchronous.room.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("备注")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入备注"},model:{value:t.form.synchronous.remark,callback:function(e){t.$set(t.form.synchronous,"remark",e)},expression:"form.synchronous.remark"}})],1),i("v-uni-view",{staticClass:"input",class:{on:0!=t.form.project.length},on:{click:function(e){e=t.$handleEvent(e),t.selectClick("newYuyue")}}},[i("v-uni-text",{staticClass:"important"},[t._v("项目")]),i("v-uni-view",{staticClass:"select"},[i("v-uni-image",{attrs:{src:"../../static/style/style-jia-icon.png",mode:"widthFix"}})],1)],1),0!=t.form.project.length?i("v-uni-view",{staticClass:"project-list"},t._l(t.form.project,function(e,n){return i("v-uni-view",{key:n,staticClass:"_li"},[i("v-uni-text",{domProps:{textContent:t._s(e.prod_name)}}),i("v-uni-image",{attrs:{src:"../../static/style/popup-del-icon.png",mode:"widthFix"},on:{click:function(e){e=t.$handleEvent(e),t.delClick(n)}}})],1)}),1):t._e(),i("v-uni-view",{staticClass:"input"},[i("v-uni-text",[t._v("技师")]),i("v-uni-view",{staticClass:"select",on:{click:function(e){e=t.$handleEvent(e),t.selectClick("technician")}}},[t._v(t._s(t.form.synchronous.technician.value)),i("v-uni-image",{attrs:{src:"../../static/member/select-right-icon.png",mode:"widthFix"}})],1)],1)],1),i("w-picker",{ref:"range",attrs:{mode:"date",startYear:"1880",endYear:"2030",defaultVal:[0,0,0],current:!0,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.birthdayConfirm(e)}}}),i("w-picker",{ref:"rangeTime",attrs:{mode:"dateTime",defaultVal:[0,0,0],current:!0,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.onConfirmTime(e)}}}),i("w-picker",{ref:"channelSelect",attrs:{mode:"selector",selectList:t.form.source.list,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.channelConfirm(e)}}}),i("w-picker",{ref:"room",attrs:{mode:"selector",selectList:t.form.synchronous.room.list,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.channelConfirm1(e)}}}),i("w-picker",{ref:"shop",attrs:{mode:"selector",selectList:t.form.store.list,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.channelConfirm2(e)}}}),i("w-picker",{ref:"type",attrs:{mode:"selector",selectList:t.form.type.list,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.channelConfirm3(e)}}}),i("w-picker",{ref:"technician",attrs:{mode:"selector",selectList:t.form.synchronous.technician.list,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.channelConfirm4(e)}}}),i("popup",{ref:"popup",attrs:{popup:"newYuyue",popupList:t.popupList},on:{func:function(e){e=t.$handleEvent(e),t.getMsgFormSon(e)}}})],1)},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},"870a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'uni-page-body[data-v-7c79a1a6]{background:#f6f7f9}.page[data-v-7c79a1a6]{margin-top:%?20?%}.form[data-v-7c79a1a6]{background:#fff}.form .project-list[data-v-7c79a1a6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start;padding-bottom:%?30?%;border-bottom:solid %?1?% #e4e4e4}.form .project-list ._li[data-v-7c79a1a6]{position:relative;font-size:%?24?%;color:#fff;background:#f06;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-left:%?20?%;padding-right:%?20?%;border-radius:%?100?%;margin-left:%?30?%}.form .project-list ._li uni-image[data-v-7c79a1a6]{width:%?30?%;position:absolute;right:%?-15?%;top:%?-15?%}.form .input[data-v-7c79a1a6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-left:%?40?%;margin-right:%?40?%;height:%?120?%;border-bottom:solid %?1?% #e4e4e4}.form .input.on[data-v-7c79a1a6]{border:none}.form .input[data-v-7c79a1a6]:last-child{border-bottom:none}.form .input uni-text[data-v-7c79a1a6]{font-size:%?30?%;color:#333}.form .input uni-text.important[data-v-7c79a1a6]:after{content:"*";color:#f06}.form .input uni-input[data-v-7c79a1a6]{text-align:right;font-size:%?26?%}.form .input .select[data-v-7c79a1a6]{font-size:%?26?%;color:#949494;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.form .input .select uni-image[data-v-7c79a1a6]{width:%?30?%;height:100%}.form .input .select.sex uni-radio-group[data-v-7c79a1a6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.form .input .select.sex uni-radio-group .uni-list-cell[data-v-7c79a1a6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?26?%;color:#333;margin-left:%?30?%}.form .input .select.sex uni-radio-group .uni-list-cell[data-v-7c79a1a6]:first-child{margin-left:0}.more[data-v-7c79a1a6]{height:%?90?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.more uni-text[data-v-7c79a1a6]{font-size:%?24?%;color:#f69;position:relative}.more uni-text[data-v-7c79a1a6]:after{content:"";position:absolute;width:%?200?%;height:%?2?%;background:#c9c9c9;top:50%;margin-top:%?-1?%;left:%?-212?%}.more uni-text[data-v-7c79a1a6]:before{content:"";position:absolute;width:%?200?%;height:%?2?%;background:#c9c9c9;top:50%;margin-top:%?-1?%;right:%?-212?%}body.?%PAGE?%[data-v-7c79a1a6]{background:#f6f7f9}',""])},"886e":function(t,e,i){"use strict";i.r(e);var n=i("5500"),s=i("c257");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("fb71");var o=i("2877"),r=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"7c79a1a6",null);e["default"]=r.exports},c257:function(t,e,i){"use strict";i.r(e);var n=i("e4ba"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=s.a},e4ba:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("bd86")),a=n(i("f499"));i("7f7f"),i("ac6a");var o=n(i("5bc7")),r=n(i("32f8")),c=n(i("c739")),l={components:{wPicker:r.default,"async-switch":o.default,popup:c.default},data:function(){return{status:!1,picker:"",channel_id:"",room_id:"",sex:0,cus_grade:"",cus_level:"",add_dept_id:"",teacher_id:"",popupList:{},form:{name:"",phone:"",remark:"",project:[],source:{value:"请选择",id:"",list:[]},type:{value:"请选择",list:[]},grade:{value:"请选择",list:[]},next:{value:"请选择",list:[]},store:{value:"请选择",list:[]},birthday:"请选择",sex:{items:[{value:"1",name:"男"},{value:"2",name:"女",checked:"true"},{value:"0",name:"未知"}],current:2},item:[],weChat:"",QQ:"",mailbox:"",address:"",synchronous:{checked:!1,date:"请选择",time:"请选择",room:{value:"请选择",list:[]},project:{value:"请添加",list:[]},technician:{value:"请选择",list:[]},remark:""}}}},onReady:function(){},onShow:function(){},onLoad:function(t){this.customerConfigChannellist(),this.form.synchronous.room.list=uni.getStorageSync("room"),this.form.store.list=uni.getStorageSync("store1"),this.form.type.list=uni.getStorageSync("gradelist"),this.form.synchronous.technician.list=uni.getStorageSync("technician"),this.popupList=uni.getStorageSync("popupList")},methods:{isEmpty:function(t){var e,i=!0;if(t instanceof Object)for(e in t)i&&t.hasOwnProperty(e)&&(i=!1);return i},isTrue:function(t){switch(typeof t){case"object":return!this.isEmpty(t);case"number":return 0!=t;case"string":return t.trim().length>0;case"boolean":return t;case"undefined":return!1;default:return!1}},sexRadioChange:function(t){this.sex=t.detail.value,console.log(this.sex);for(var e=0;e<this.form.sex.items.length;e++)if(this.form.sex.items[e].value===t.target.value){this.form.sex.current=e;break}},synchronousChange:function(){this.form.synchronous.checked=!this.form.synchronous.checked},selectClick:function(t){this.picker=t,"birthday"===t?this.$refs.range.show():"date"===t?this.$refs.range.show():"time"===t?this.$refs.rangeTime.show():"channel"===t?this.$refs.channelSelect.show():"next"===t?this.$refs.range.show():"room"===t?this.$refs.room.show():"shop"===t?this.$refs.shop.show():"type"===t?this.$refs.type.show():"technician"===t?this.$refs.technician.show():"newYuyue"===t&&this.$refs.popup.itemClick("true")},birthdayConfirm:function(t){"birthday"===this.picker?this.form.birthday=t.result:"date"===this.picker?this.form.synchronous.date=t.result:"next"===this.picker&&(this.form.next.value=t.result)},channelConfirm:function(t){this.channel_id=t.checkArr.value,this.form.source.value=t.result},channelConfirm1:function(t){this.form.synchronous.room.value=t.result,this.room_id=t.checkArr.value},channelConfirm2:function(t){this.form.store.value=t.result,this.add_dept_id=t.checkArr.value},channelConfirm3:function(t){this.form.type.value=t.result,this.cus_level=t.checkArr.value},channelConfirm4:function(t){this.form.synchronous.technician.value=t.result,this.teacher_id=t.checkArr.value},onConfirmTime:function(t){this.form.synchronous.time=t.checkArr[3]+":"+t.checkArr[4]},getMsgFormSon:function(t){var e=this,i=[];t.forEach(function(t,n){e.isTrue(t)&&i.push(t)}),this.form.project=i},delClick:function(t){this.form.project.splice(t,1)},statusClick:function(){this.status=!this.status},onNavigationBarButtonTap:function(t){var e;uni.request({url:uni.getStorageSync("interface")+"customer/add",method:"POST",data:(e={cus_name:this.form.name,cus_mobile:this.form.phone,channel_id:this.channel_id,add_dept_id:this.add_dept_id,dept_id:this.add_dept_id,cus_sex:this.sex,add_remarks:this.form.remark,cus_addr:this.form.mailbox,cus_birthday:this.form.birthday,cus_level:this.cus_level,cus_wx:this.form.weChat,cus_qq:this.form.QQ,cus_email:this.form.mailbox},(0,s.default)(e,"cus_addr",this.form.address),(0,s.default)(e,"next_follw",this.form.next.value),(0,s.default)(e,"appoint_date",this.form.synchronous.date),(0,s.default)(e,"appoint_btime",this.form.synchronous.time),(0,s.default)(e,"room_id",this.room_id),(0,s.default)(e,"remarks",this.form.synchronous.remark),(0,s.default)(e,"items",(0,a.default)(this.form.project)),(0,s.default)(e,"teacher_id",this.teacher_id),e),header:{token:uni.getStorageSync("token")},success:function(t){uni.showToast({icon:"none",title:t.data.msg})},fail:function(t){uni.showToast({icon:"none",title:res.data.msg})}})},customerConfigChannellist:function(){var t=this;uni.request({url:uni.getStorageSync("interface")+"customer/config/channellist",method:"GET",data:{},header:{token:uni.getStorageSync("token")},success:function(e){console.log(e);var i=new Array;e.data.data.forEach(function(t,e){i[e]={label:t.channel_name,value:t.channel_id}}),t.form.source.list=i}})}}};e.default=l},fb71:function(t,e,i){"use strict";var n=i("3130"),s=i.n(n);s.a}}]);